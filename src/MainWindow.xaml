<Window x:Class="Watchdog.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Watchdog.ViewModels"
        Title="Watchdog"
        Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#FF1E1E1E">

    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:MonitoredNodeViewModel}">
            <Border BorderThickness="1"
                    BorderBrush="Gray"
                    Margin="5"
                    Padding="5">
                <StackPanel>
                    <TextBlock Text="{Binding Hostname}"
                               Foreground="White"
                               FontWeight="Bold"/>
                    <TextBlock Text="{Binding Status}"
                               Foreground="LightGray"
                               FontSize="12"/>
                </StackPanel>
            </Border>
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <TabControl x:Name="ClusterTabs"
                    ItemsSource="{Binding Clusters}"
                    SelectedItem="{Binding SelectedCluster}"
                    Margin="10">
            <TabControl.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Name}" />
                </DataTemplate>
            </TabControl.ItemTemplate>

            <TabControl.ContentTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/> <!-- Run Button -->
                            <RowDefinition Height="*"/>    <!-- Content -->
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/> <!-- Sidebar -->
                            <ColumnDefinition Width="*"/>   <!-- Node Grid -->
                        </Grid.ColumnDefinitions>

                        <!-- Run All Button -->
                        <Button Content="Run All Tests"
                                Grid.Row="0"
                                Grid.ColumnSpan="2"
                                Padding="6"
                                Margin="5"
                                Command="{Binding RunAllTestsCommand}"/>

                        <!-- Sidebar -->
                        <StackPanel Grid.Row="1" Grid.Column="0"
                                    Background="#FF2D2D30"
                                    Orientation="Vertical"
                                    Padding="10">
                            <TextBlock Text="Sidebar"
                                       Foreground="White"
                                       FontSize="16"
                                       Margin="0,0,0,10"/>
                        </StackPanel>

                        <!-- Node Grid -->
                        <ScrollViewer Grid.Row="1" Grid.Column="1"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled">
                            <ItemsControl ItemsSource="{Binding Nodes}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="4"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </ScrollViewer>
                    </Grid>
                </DataTemplate>
            </TabControl.ContentTemplate>
        </TabControl>
    </Grid>
</Window>

